<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wallet</title>
    <link rel="stylesheet" href="./wallet.css">
    <link rel="stylesheet" href="../share/sharestyle.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>

</head>

<body>

    <div class="header">
        <div class="b-sangpay-logo">
            <a href="../wallet/wallet.html">
                <div class="b-logo"></div>
            </a>
        </div>
        <div class="b-session-time">
            <div class="h-session">남은 시간 : 0분 0초</div>
            <button class="b-time-extend-btn" onclick="extensionTime2()">시간 연장</button>
        </div>
        <div class="b-menu-option">
            <ul class="b-header-list">
                <li class="b-header-list-item1">
                    <a class="b-header-admin" href="../admin/adminpage.html">ADMIN</a>
                </li>
                <li class="b-header-list-item2">
                    <a class="b-header-my-page" href="../mypage/mypage.html">MY PAGE</a>
                </li>
                <li class="b-header-list-item3">
                    <a class="b-header-faq" href="../board/board.html">FAQ</a>
                </li>
                <li class="b-header-list-item4">
                    <a class="b-header-logout" href="../login/loginpage.html">LOG OUT</a>
                </li>
            </ul>
        </div>
    </div>

    <main>
        <div class="wallet">
            <div class="b-title-area">
                <h2 class="wallet-title">Wallet</h2>
                <div class="historydiv">
                    <button class="history-btn" onclick="getCurrentUserHistory()">내역 보기</button>
                </div>
            </div>
            <hr class="divider" />
            <div class="coin-info">
                <div class="token-wrapper">
                    <span class="coin" id="sangpay-name"></span>
                    <span class="coin-amount" id="sangpay-amount"></span>
                    <span class="coin-value" id="sangpay-value" style="display: none;"></span>
                </div>
            </div>
            <div class="token-info">
                <!-- 메인 지갑 화면의 토큰 목록 -->
                <div class="wallet-tokens">

                    <ul id="main-token-list">
                        <!-- 토큰 목록이 추가됩니다. -->
                    </ul>
                </div>
            </div>
            <div class="swap-buttons">
                <button class="send-btn">보내기</button>
                <button class="exchange-btn">교환</button>
                <button class="receive-btn">받기</button>
            </div>
        </div>

        <!--------------------------- 팝업창 ----------------------------->

        <!-- 교환 버튼 팝업창 -->
        <div class="popup-exchange">
            <div id="exchange-popup">
                <div class="popup-content">
                    <h2>교환 방법 선택</h2>
                    <button class="swap-btn">페이 to 토큰</button>
                    <button class="swap-btn2">토큰 to 페이</button>
                    <button class="exchange-close-button" onclick="closePopup('exchange-popup')">닫기</button>
                </div>
            </div>
        </div>


        <!-- 보내기 버튼 팝업창 -->
        <div class="popup1">
            <div id="send-popup">
                <div class="popup-content">
                    <h2>보내기</h2>
                    <Input type="text" id="send-address" class="input-field" placeholder="지갑 주소를 입력해 주세요">
                    <div class="coin-info">
                        <!--  이부분 나중에 자바스크립트랑 연결해서 보유개수대로 표시하게 해야함  -->
                        <span class="coin" id="send-sangpay-name">상페코인</span>
                        <span class="coin-amount" id="send-sangpay-amount">총 보유 개수</span>
                    </div>
                    <input type="number" id="send-amount" class="input-field" placeholder="보낼 개수를 입력해주세요" min="0">

                    <!-- 팝업창 안의 보내기 버튼 -->
                    <div class="swap-buttons">
                        <button class="h-send-button" onclick="closePopup('send-popup')">보내기</button>
                        <div class="send-close-button" onclick="closePopup()">취소</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 받기 버튼 팝업창 -->
        <div class="popup3">
            <div id="receive-popup">
                <div class="popup-content">
                    <h2>받기</h2>
                    <img src="../img/qr코드.png" alt="QR Code" class="qrcode">
                    <p>결제 받은 주소를 스캔하세요</p>
                    <div class="wallet-address" onclick="copyAddress()">내 암호화페 지갑 주소 복사</div>
                    <div class="h-close-button" onclick="closePopup('receive-popup')">닫기</div>
                </div>
            </div>
        </div>

        <!-- 페이 to 토큰 스왑 버튼 팝업창 -->

        <div class="popup-swap">
            <div id="swap-popup">
                <div class="popup-content">
                    <h2>교환</h2>
                    <p class="swap-instruction">교환 수량을 입력하세요</p>
                    <div class="swap-input-wrapper">
                        <span class="coin" id="swap1-sangpay-name">상장페이</span>
                        <span class="coin-amount" id="paytotoken-amount">보유수량</span>
                        <!-- <span class="coin-amount" id="swap1-sangpay-amount-span"></span> -->

                        <!-- id = "swap1-sangpay-amount" 부분 number랑 연결 된건지 확인 해야됌.  -->
                        <input type="number" id="swap1-sangpay-amount" class="swap-input-field" placeholder="수량"
                            min="0">
                    </div>
                    <ul class="token-list" id="paytotoken-token-list">
                        <!-- 자바스크립트에서 li 요소 추가했음 -->
                    </ul>
                    <div class="swap-details">
                        <!-- 나중에 연결해서 기능 구현 되게 해야함 -->
                        <p class="swap-expected">정보</p>
                        <p>페이가치 : 10</p>
                        <p class="swap-rate">토큰가치 : 0.00</p>
                        <p class="swap-fee">페이 당 수수료 : 0.00</p>
                        <!-- 가로 영역표시 실선 -->
                        <hr class="separator">
                        <div class="final-exchange">최종 교환 예상 수량
                            <!-- 최종교환예상내역 표시하는 영역 -->
                        </div>

                    </div>
                    <div class="button-container">
                        <button class="swap-execute" onclick="closePopup('swap-popup')">교환하기</button>
                        <div class="swap-cancel" onclick="closePopup()">취소하기</div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <!-- 토큰 to 페이 스왑 버튼 팝업창 -->

        <div class="popup-swap2">
            <div id="swap-popup2">
                <div class="popup-content">
                    <h2>교환</h2>
                    <p class="swap-instruction">교환할 토큰을 선택하세요</p>

                    <!-- ---- -->
                    <!-- ---- -->

                    <ul class="token-list" id="tokentopay-token-list">
                        <!-- 자바스크립트에서 li 요소 추가했음 -->
                    </ul>
                    <p>수량</p>
                    <div class="swap-input-wrapper">
                        <!-- <span class="coin-amount" id="swap2-token-amount"></span> -->
                        <span></span>
                        <!-- 토큰 수량 입력할 영역 -->
                        <input type="number" id="swap2-token-amount" class="swap-input-field"
                            placeholder="교환할 토큰 수량을 입력하세요" min="0">
                    </div>
                    <!-- ---- -->

                    <ul class="token-list" id="tokentopay-token-list">
                        <!-- 자바스크립트에서 li 요소 추가했음 -->
                    </ul>
                    <div class="swap-input-wrapper">
                        <span class="coin" id="swap2-sangpay-name">상장페이</span>
                        <span class="coin-amount" id="swap2-sangpay-amount">총 보유 개수</span>
                    </div>
                    <div class="swap-details">
                        <!-- 연결해서 기능 구현 되게 해야함 -->
                        <p class="swap-expected">정보</p>

                        <p>페이가치 : 10</p>
                        <p class="swap-rate">토큰가치 : 0.00</p>
                        <p class="swap-fee">토큰 당 수수료 : 0.00</p>

                        <!-- 가로 영역표시 실선 -->

                        <hr class="separator">
                        <div class="final-exchange">최종 교환 예상 수량
                            <!-- 최종교환예상내역 표시하는 영역 -->
                        </div>
                    </div>
                    <div class="button-container">
                        <button class="swap-execute2" onclick="closePopup('swap-popup2')">교환하기</button>
                        <div class="swap-cancel2" onclick="closePopup()">취소하기</div>
                    </div>
                </div>
            </div>
        </div>




    </main>
</body>
<script src="../share/a_share.js"></script>
<script src="./wallet.js"></script>
<!-- <script type="module" src="./board.js"></script> -->
<!-- <script src="./board.js"></script> -->

</html>